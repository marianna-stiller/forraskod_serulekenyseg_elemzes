program if bin bin offsetlookup variable _REQUEST string 'table_name' string '' bin offsetlookup variable _REQUEST string 'table_name' string 'course_periods' block expressionstatement assign variable sql bin bin bin bin encapsed encapsedpart string SELECT * FROM course_periods WHERE COURSE_ID=' encapsedpart offsetlookup variable _REQUEST identifier id encapsedpart string 'AND (marking_period_id IS NOT NULL AND marking_period_id IN( \SELECT * FROM course_periods WHERE COURSE_ID='$_REQUEST[id]'AND (marking_period_id IS NOT NULL AND marking_period_id IN(\ call name GetAllMP call name GetMPTable call name GetMP call name UserMP string 'TABLE' call name UserMP string \) OR marking    _period_id IS NULL AND '\ call name date string 'Y-m-d' string \' <= end_date) ORDER BY TITLE\ expressionstatement assign variable QI call name DBQuery variable sql expressionstatement assign variable coursePeriods_RET call name DBGet variable QI expressionstatement assign variable html string 'cp_modal||' expressionstatement assign variable html bin bin bin string '<h6>' call name count variable coursePeriods_RET retif bin call name count variable coursePeriods_RET number string ' Period was' string ' Periods were' string ' found.</h6>'^
